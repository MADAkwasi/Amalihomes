<p class="block text-sm font-medium text-gray-700 mb-1">{{ label() }}</p>
<div class="flex rounded shadow-sm border border-gray-300 overflow-hidden w-full">
  <button
    type="button"
    (click)="toggleDropdown()"
    class="flex items-center bg-gray-100 px-3 py-2 text-sm font-medium text-gray-900 gap-1"
  >
    {{ selectedCode().code }}

    <lucide-icon [img]="arrowDown" class="text-[#5D5D5D]" />
  </button>

  @if(dropdownOpen()) {
  <ul class="absolute z-50 mt-11 bg-white border border-gray-200 rounded shadow-md max-h-40 overflow-y-auto">
    <li
      *ngFor="let country of codes"
      (click)="selectCode(country.code); toggleDropdown()"
      (keydown.enter)="selectCode(country.code); toggleDropdown()"
      tabindex="0"
      class="px-3 py-2 text-sm hover:bg-gray-100 cursor-pointer"
    >
      {{ country.label }} ({{ country.code }})
    </li>
  </ul>
  }

  <input
    type="tel"
    [formControl]="control()!"
    placeholder="Phone number"
    class="block w-full px-4 py-[12px] border-l border-gray-300 focus:outline-none"
  />
</div>
